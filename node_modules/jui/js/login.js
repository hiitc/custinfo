/**
 * author : velog.io/@___
 * path : ./login.js
 */

 function login() {
    const form = document.login_form;
    var username
    var ph

    if (checkValidUsername(form)) {
        form.username.style.border = '2px solid';
        form.username.style.borderColor = '#00D000';
        username = true;
    } else {
        form.username.style.border = '2px solid';
        form.username.style.borderColor = '#FF0000';
        username = false;
    }

    if (checkValidPhone(form)) {
        form.hpNo.style.border = '2px solid';
        form.hpNo.style.borderColor = '#00D000';
        ph = true;
    } else {
        form.hpNo.style.border = '2px solid';
        form.hpNo.style.borderColor = '#FF0000';
        ph = false;
    }
    if (username && ph){
        document.getElementById('frm').submit();
    }

}

function checkValidUsername(form) {
    if (form.username.value == "") {
        document.getElementById('user').click();
        //form.username.focus();
        return false;
    }
    else
    { 
        return true;
    }

    
}

function checkValidPhone(form) {
    const hp = form.hpNo.value;
    // String.prototype.search() :: 검색된 문자열 중에 첫 번째로 매치되는 것의 인덱스를 반환한다. 찾지 못하면 -1 을 반환한다.
    // number
    const num = hp.search(/[0-9]/g);

    if (form.hpNo.value == "") {
        document.getElementById('hp').click();
        return false;
    }
    else if (num < 0 ) {
        // 한글과 같은 문자열 입력 방지.
        document.getElementById('hp').click();
        return false;
    }
    return true;
}


